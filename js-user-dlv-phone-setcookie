function () {
  var phonenumber = {{dlv-phone}};

  if (!phonenumber) return undefined;

  // Remove caracteres não numéricos
  var numeroLimpo = String(phonenumber).replace(/\D/g, '');

  // Valida exatamente 11 dígitos (DDD + número)
  if (numeroLimpo.length !== 11) {
    return undefined;
  }

  // Só adiciona 55 após validação
  numeroLimpo = '55' + numeroLimpo;

  // Cookie por 30 dias
  var expirationDate = new Date();
  expirationDate.setDate(expirationDate.getDate() + 30);

  document.cookie =
    "LeadPhone=" + encodeURIComponent(numeroLimpo) +
    "; expires=" + expirationDate.toUTCString() +
    "; path=/";

  return numeroLimpo;
}
